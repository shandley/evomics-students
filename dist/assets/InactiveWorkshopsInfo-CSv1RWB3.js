import{j as e}from"./index-CaREKPZR.js";import{r as b,b as y,i as j,C as v,X as N,Y as f,T as w,B as k}from"./charts-9IbAAKVB.js";import"./react-vendor-DJG_os-6.js";const Y=({profiles:o,workshops:x})=>{const n=b.useMemo(()=>{const s=Object.entries(x).filter(([t,r])=>!r.active).map(([t,r])=>{const g=o.filter(a=>a.participations[t]?.length>0).length,h=new Set;o.forEach(a=>{a.participations[t]?.length>0&&a.participations[t].forEach(c=>h.add(c))});const l=Array.from(h).sort(),m=new Set;return o.forEach(a=>{a.participations[t]?.length>0&&m.add(a.student.country)}),{id:t,workshop:r,uniqueStudents:g,yearRange:l.length>0?`${l[0]} - ${l[l.length-1]}`:"N/A",totalYears:l.length,countries:m.size,peakYear:l.length>0?l.reduce((a,c)=>{const u=o.filter(d=>d.participations[t]?.includes(c)).length,p=o.filter(d=>d.participations[a]?.includes(a)).length;return u>p?c:a},l[0]):null}}).filter(t=>t.uniqueStudents>=50||["randbioc","programm"].includes(t.id)).sort((t,r)=>r.uniqueStudents-t.uniqueStudents),i=s.map(t=>({workshop:t.workshop.shortName,students:t.uniqueStudents,years:t.totalYears,countries:t.countries}));return{inactiveWorkshops:s,timelineData:i}},[o,x]);return n.inactiveWorkshops.length===0?e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 shadow-sm",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Historical Workshop Series"}),e.jsx("p",{className:"text-gray-600",children:"No inactive workshops with significant participation data found."})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 shadow-sm",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Historical Workshop Series"}),e.jsx("p",{className:"text-gray-600",children:"Legacy workshops that have contributed to the Evomics community. These workshops are no longer active but represent important chapters in genomics education history, including specialized programming workshops held in the Czech Republic."})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Student Participation Overview"}),e.jsx("div",{className:"h-64",children:e.jsx(y,{width:"100%",height:"100%",children:e.jsxs(j,{data:n.timelineData,children:[e.jsx(v,{strokeDasharray:"3 3"}),e.jsx(N,{dataKey:"workshop"}),e.jsx(f,{}),e.jsx(w,{content:({active:s,payload:i,label:t})=>{if(s&&i&&i.length){const r=i[0].payload;return e.jsxs("div",{className:"bg-white p-3 border border-gray-200 rounded-lg shadow-lg",children:[e.jsx("p",{className:"font-medium text-gray-900",children:t}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Students: ",r.students]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Active Years: ",r.years]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Countries: ",r.countries]})]})}return null}}),e.jsx(k,{dataKey:"students",fill:"#6b7280",name:"Total Students"})]})})}),e.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Historical workshops showing their contribution to the Evomics community, including specialized programming workshops from the Czech Republic."})]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:n.inactiveWorkshops.map((s,i)=>{const t=["border-slate-200 bg-slate-50","border-gray-200 bg-gray-50","border-zinc-200 bg-zinc-50","border-stone-200 bg-stone-50","border-blue-200 bg-blue-50"],r=["randbioc","programm"].includes(s.id);return e.jsxs("div",{className:`border rounded-lg p-6 ${t[i%t.length]} relative`,children:[e.jsxs("div",{className:"absolute top-4 right-4 flex gap-2",children:[r&&e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"Czech Republic"}),e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Inactive"})]}),e.jsxs("div",{className:`${r?"pr-32":"pr-16"}`,children:[" ",e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:s.workshop.shortName}),e.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:s.workshop.description}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-white rounded-lg border border-gray-200",children:[e.jsx("div",{className:"text-xl font-bold text-gray-700",children:s.uniqueStudents}),e.jsx("div",{className:"text-xs text-gray-500",children:"Students"})]}),e.jsxs("div",{className:"text-center p-3 bg-white rounded-lg border border-gray-200",children:[e.jsx("div",{className:"text-xl font-bold text-gray-700",children:s.countries}),e.jsx("div",{className:"text-xs text-gray-500",children:"Countries"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-3",children:[e.jsx("div",{className:"text-sm font-medium text-gray-700 mb-1",children:"Active Period"}),e.jsx("div",{className:"text-sm text-gray-600",children:s.yearRange}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[s.totalYears," year",s.totalYears!==1?"s":""," of operation"]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-3",children:[e.jsx("div",{className:"text-sm font-medium text-gray-700 mb-1",children:"Established"}),e.jsx("div",{className:"text-sm text-gray-600",children:s.workshop.startYear}),s.workshop.startYear&&e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[new Date().getFullYear()-s.workshop.startYear," years ago"]})]})]})]})]},s.id)})}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Historical Impact Summary"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-700",children:n.inactiveWorkshops.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Legacy Workshops"})]}),e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-700",children:n.inactiveWorkshops.reduce((s,i)=>s+i.uniqueStudents,0)}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total Alumni"})]}),e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-700",children:Math.max(...n.inactiveWorkshops.map(s=>s.countries))}),e.jsx("div",{className:"text-sm text-gray-600",children:"Max Countries (Single Workshop)"})]}),e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-700",children:n.inactiveWorkshops.reduce((s,i)=>s+i.totalYears,0)}),e.jsx("div",{className:"text-sm text-gray-600",children:"Combined Active Years"})]}),e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-700",children:n.inactiveWorkshops.filter(s=>["randbioc","programm"].includes(s.id)).length}),e.jsx("div",{className:"text-sm text-blue-600",children:"Czech Republic Workshops"})]})]})]})]})};export{Y as InactiveWorkshopsInfo};
