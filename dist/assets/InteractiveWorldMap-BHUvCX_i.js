import{j as e}from"./index-CtsbQi_e.js";import{r as d}from"./charts-9IbAAKVB.js";import{M as h,T as m,C as p,P as u}from"./maps-Dhnb_pS2.js";import"./react-vendor-DJG_os-6.js";const x={USA:[39.8283,-98.5795],"United States":[39.8283,-98.5795],Canada:[56.1304,-106.3468],UK:[55.3781,-3.436],"United Kingdom":[55.3781,-3.436],Germany:[51.1657,10.4515],France:[46.2276,2.2137],Italy:[41.8719,12.5674],Spain:[40.4637,-3.7492],Netherlands:[52.1326,5.2913],Sweden:[60.1282,18.6435],Norway:[60.472,8.4689],Denmark:[56.2639,9.5018],Finland:[61.9241,25.7482],Switzerland:[46.8182,8.2275],Austria:[47.5162,14.5501],Belgium:[50.5039,4.4699],"Czech Republic":[49.8175,15.473],Poland:[51.9194,19.1451],Slovakia:[48.669,19.699],Slovenia:[46.1512,14.9955],Hungary:[47.1625,19.5033],Croatia:[45.1,15.2],Serbia:[44.0165,21.0059],Greece:[39.0742,21.8243],Portugal:[39.3999,-8.2245],Ireland:[53.4129,-8.2439],Iceland:[64.9631,-19.0208],Estonia:[58.5953,25.0136],Latvia:[56.8796,24.6032],Lithuania:[55.1694,23.8813],Belarus:[53.7098,27.9534],Russia:[61.524,105.3188],Ukraine:[48.3794,31.1656],Turkey:[38.9637,35.2433],Japan:[36.2048,138.2529],China:[35.8617,104.1954],"South Korea":[35.9078,127.7669],Korea:[35.9078,127.7669],India:[20.5937,78.9629],Australia:[-25.2744,133.7751],"New Zealand":[-40.9006,174.886],Brazil:[-14.235,-51.9253],Brasil:[-14.235,-51.9253],Argentina:[-38.4161,-63.6167],Chile:[-35.6751,-71.543],Colombia:[4.5709,-74.2973],Mexico:[23.6345,-102.5528],Guatemala:[15.7835,-90.2308],Panama:[8.538,-80.7821],Ecuador:[-1.8312,-78.1834],"South Africa":[-30.5595,22.9375],Egypt:[26.0975,30.0444],Nigeria:[9.082,8.6753],Ghana:[7.9465,-1.0232],Kenya:[-.0236,37.9062],Ethiopia:[9.145,40.4897],Uganda:[1.3733,32.2903],Tanzania:[-6.369,34.8888],Madagascar:[-18.7669,46.8691],Mauritius:[-20.3484,57.5522],Zambia:[-13.1339,27.8493],Malawi:[-13.2543,34.3015],Israel:[31.0461,34.8516],Lebanon:[33.8547,35.8623],"Saudi Arabia":[23.8859,45.0792],"United Arab Emirates":[23.4241,53.8478],Kuwait:[29.3117,47.4818],Qatar:[25.3548,51.1839],Iran:[32.4279,53.688],Thailand:[15.87,100.9925],Singapore:[1.3521,103.8198],Malaysia:[4.2105,101.9758],Philippines:[12.8797,121.774],Indonesia:[-.7893,113.9213],Bangladesh:[23.685,90.3563],Pakistan:[30.3753,69.3451],Nepal:[28.3949,84.124],Taiwan:[23.6978,120.9605],Cyprus:[35.1264,33.4299],Georgia:[42.3154,43.3569],Armenia:[40.0691,45.0382],Azerbaijan:[40.1431,47.5769],Kazakhstan:[48.0196,66.9237],Uzbekistan:[41.3775,64.5853],Mongolia:[46.8625,103.8467],Cuba:[21.5218,-77.7812],Jamaica:[18.1096,-77.2975],"Costa Rica":[9.7489,-83.7534],Venezuela:[6.4238,-66.5897],Peru:[-9.19,-75.0152],Bolivia:[-16.2902,-63.5887],Paraguay:[-23.4425,-58.4438],Uruguay:[-32.5228,-55.7658],Eswatini:[-26.5225,31.4659]},f=({profiles:i,workshops:o})=>{const n=d.useMemo(()=>{const a={};return i.forEach(r=>{const s=r.student.country;a[s]||(a[s]={total:0,workshops:{},coordinates:x[s]}),a[s].total++,Object.keys(r.participations).forEach(t=>{r.participations[t].length>0&&(a[s].workshops[t]=(a[s].workshops[t]||0)+1)})}),Object.entries(a).filter(([r,s])=>s.coordinates).map(([r,s])=>({country:r,...s}))},[i]),l=a=>{const r=Math.max(...n.map(s=>s.total));return Math.max(8,Math.min(40,a/r*40))},c=a=>{const r=Object.keys(a.workshops);if(r.length===1)switch(r[0]){case"wog":return"#2563eb";case"wpsg":return"#9333ea";case"wphylo":return"#059669";default:return"#6b7280"}return"#f59e0b"};return e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Global Student Distribution"}),e.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-600"}),e.jsx("span",{children:"WoG only"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-purple-600"}),e.jsx("span",{children:"WPSG only"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-green-600"}),e.jsx("span",{children:"WPhylo only"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-orange-500"}),e.jsx("span",{children:"Multiple"})]})]})]}),e.jsx("div",{className:"h-96 rounded-lg overflow-hidden border border-gray-200",children:e.jsxs(h,{center:[20,0],zoom:2,style:{height:"100%",width:"100%"},scrollWheelZoom:!0,children:[e.jsx(m,{attribution:'Â© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),n.map(a=>e.jsx(p,{center:a.coordinates,radius:l(a.total),fillColor:c(a),color:"#ffffff",weight:2,opacity:.8,fillOpacity:.6,children:e.jsx(u,{children:e.jsxs("div",{className:"p-2",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:a.country}),e.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[e.jsx("strong",{children:a.total})," students"]}),e.jsx("div",{className:"space-y-1",children:Object.entries(a.workshops).map(([r,s])=>{const t=o[r];return e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600",children:[t?.shortName,":"]}),e.jsx("span",{className:"font-medium",children:s})]},r)})})]})})},a.country))]})}),e.jsx("div",{className:"mt-4 text-sm text-gray-600",children:e.jsx("p",{children:"Bubble size represents total students. Colors indicate workshop participation patterns. Click bubbles for detailed breakdown by workshop."})})]})};export{f as InteractiveWorldMap};
